<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Торговая площадка</title>

    <style>
        body {
            color: rgba(255, 255, 255, 0.904);
            background-color: rgb(11, 24, 41);
        }

        .header {
            text-align: center;
            font-size: 24px;
        }

        .popular-products-grid__header {
            text-align: left;
            font-size: 18px;
            grid-column-start: 2;
            grid-column-end: 4;
            margin-bottom: -16px;
        }

        .discount-products-grid__header {
            text-align: center;
            font-size: 18px;
            grid-column-start: 1;
            grid-column-end: 2;
            margin-bottom: -16px;
        }

        .products-flex {
            display: flex;
            flex-direction: row;
            justify-content: flex-start;
            gap: 400px;
        }

        .popular-products-grid {
            width: 32%;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            grid-gap: 16px;
        }

        .discount-products-grid {
            width: 20%;
            display: grid;
            grid-template-columns: 1fr;
            grid-gap: 16px;
        }

        .products-card {
            background-color: rgb(23, 36, 53);
            box-shadow: 0 0 5px rgb(243, 242, 242);
            display: inline-block;
            border-radius: 15px;
            padding: 10px;
        }

        .products-card__title {
            color:rgba(255, 255, 255, 0.822);
            font-size: 24px;
            margin-bottom: 12px;
        }

        .products-card__price {
            color:rgba(255, 255, 255, 0.822);
            font-size: 20px;
            margin-bottom: 6px;
        }

        .products-card__change {
            color:rgba(255, 255, 255, 0.822);
            font-size: 16px;
        }

        .position-flex {
           display: flex;
           justify-content: flex-start;
           flex-direction: row;
           gap: 16px;
           margin: 20px 0;
           flex-wrap: wrap;
        }

        .positions-header {
            text-align: left;
            font-size: 18px;
        }

        .position-card {
            box-shadow: 0 0 5px gray;
            background-color: rgba(41, 58, 83, 0.87);
            display: inline-block;
            border-radius: 6px;
            padding: 10px;
        }

        .position-card__title {
            font-size: 22px;
            color:rgba(255, 255, 255, 0.822);
            margin-bottom: 8px;
        }

        .position-card__type {
            font-size: 20px;
            color:rgba(255, 255, 255, 0.822);
            margin-bottom: 8px;
        }

        .position-card__amount {
            font-size: 20px;
            color:rgba(255, 255, 255, 0.822);
            margin-bottom: 8px;
        }

        .position-card__price {
            font-size: 20px;
            color:rgba(255, 255, 255, 0.822);
            margin-bottom: 20px;
        }

        .account-card {
            position: fixed;
            box-shadow: 0 0 3px rgb(243, 242, 242);
            background-color: rgb(38, 50, 70);
            border-radius: 11px;
            padding: 10px;
            right: 0;
            top: 0;
        }

        .account-card__name {
            color:rgba(255, 255, 255, 0.822);
            font-size: 24px;
            margin-bottom: 12px;
        }

        .account-card__bonuses {
            color:rgba(255, 255, 255, 0.822);
            font-size: 24px;
            margin-bottom: 12px;
        }

        .account-card__discount {
            color:rgba(255, 255, 255, 0.822);
            font-size: 20px;
        }

        .input-field {
            width: 10%;
            box-shadow: 0 0 3px gray;
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>Рыночная торговая площадка</h1>
    </header>

    <div class="products-flex">
        <div class="popular-products-grid">
            <div class="popular-products-grid__header">
                <h2>Популярные товары</h2>
            </div>

            <div class="products-card">
                <div class="products-card__title">Огурцы</div>
                <div class="products-card__price">299.99 руб</div>
            </div>

            <div class="products-card">
                <div class="products-card__title">Помидоры</div>
                <div class="products-card__price">229.09 руб</div>
            </div>

            <div class="products-card">
                <div class="products-card__title">Картофель</div>
                <div class="products-card__price">179.99 руб</div>
            </div>

            <div class="products-card">
                <div class="products-card__title">Перец</div>
                <div class="products-card__price">124.93 руб</div>
            </div>

            <div class="products-card">
                <div class="products-card__title">Капуста</div>
                <div class="products-card__price">149.99 руб</div>
            </div>

            <div class="products-card">
                <div class="products-card__title">Баклажаны</div>
                <div class="products-card__price">279.99 руб</div>
            </div>
        </div>

        <div class="discount-products-grid">
            <div class="discount-products-grid__header">
                <h2>Товары со скидкой</h2>
            </div>

            <div class="products-card">
                <div class="products-card__title">Морковь очищенная</div>
                <div class="products-card__price">99.99 руб</div>
            </div>

            <div class="products-card">
                <div class="products-card__title">Лук репчатый</div>
                <div class="products-card__price">45.99 руб</div>
            </div>
        </div>
    </div>

    <div class="positions-header">
        <h2>Выбранные товары</h2>
    </div>

    <div data-container="positions" class="position-flex">
        <div class="position-card">
            <div class="position-card__title">Товар: Огурцы</div>
            <div class="position-card__amount">Количество: 0.5 кг</div>
        </div>

         <div class="position-card">
            <div class="position-card__title">Товар: Помидоры</div>
            <div class="position-card__amount">Количество: 0.3 кг</div>
        </div>

         <div class="position-card">
            <div class="position-card__title">Товар: Картофель</div>
            <div class="position-card__amount">Количество: 1 кг</div>
        </div>

        <button data-action="add" data-target="positions" data-products="products-select" data-amount="amount-input">Добавить товар</button>
    </div>

    <div class="account-card">
        <div class="account-card__name">SuperUser</div>
        <div class="account-card__bonuses">Бонусные баллы: 9999 бонусов</div>
        <a class="account-card__discount" href="/115fz">Оформить скидочную карту</a>
    </div>

    <footer>
        <div data-list="products-select">
            <form>
                <label for="products-select">Выберите товар: </label>
                <select name="products" id="products-select">
                    <option value="cucumber">Огурцы</option>
                    <option value="tomato">Помидоры</option>
                    <option value="potato">Картофель</option>
                    <option value="pepper">Перец</option>
                    <option value="cabbage">Капуста</option>
                    <option value="eggplant">Баклажаны</option>
                    <option value="carrot">Морковь очищенная</option>
                    <option value="onion">Лук репчатый"</option>
                </select>
            </form>
        </div>

        <div data-input="amount-input">
            <input class="input-field" type="number" name="amount" min="0" placeholder="Введите количество товара: ">
        </div>
    </footer>
</body>

<script>
    const btns = document.querySelectorAll('[data-action]')
    const containers = document.querySelectorAll('[data-container]')
    const lists = document.querySelectorAll('[data-list]')
    const inputs = document.querySelectorAll('[data-input]')
    btns.forEach(i => {
        i.addEventListener('click', () => {
            const conName= i.dataset['target']
            const productListName = i.dataset['products']
            const amountName = i.dataset['amount']
            const con = Array.from(containers).find(i => i.dataset['container'] === conName)
            const productList = Array.from(lists).find(i => i.dataset['list'] === productListName)
            const amountInput = Array.from(inputs).find(i => i.dataset['input'] === amountName)
            const el = document.createElement('div')
            const selectedProducts = productList.querySelector('select')
            const amount = amountInput.querySelector('input').value
            const product = selectedProducts.options[selectedProducts.selectedIndex].text
            el.innerHTML = '<div class="position-card">\n' +
                '<div class="position-card__title">Товар: ' + product + '</div>\n' +
                '<div class="position-card__amount">Количество: ' + amount + ' кг</div>\n' +
                '</div>'
            con.insertBefore(el, i)
        })
    })
</script>

</html>
